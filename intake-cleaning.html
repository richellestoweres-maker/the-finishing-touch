<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cleaning Intake – The Finishing Touch</title>

  <!-- Fonts + Site CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Manrope:wght@400;600&family=Allura&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <!-- Page-only helpers (kept light so you don't have to edit other files) -->
  <style>
    body{background:#fbf8f4}
    .intake-wrap{width:min(920px,92%);margin:28px auto 60px;background:#fff;padding:28px 24px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.06)}
    .intake-title{text-align:center;font-family:"Playfair Display",serif;margin:6px 0 2px}
    .intake-script{text-align:center;font-family:"Allura",cursive;font-size:2rem;margin:0 0 12px;color:#524a46}
    .intake-note{max-width:760px;margin:0 auto 18px;text-align:center;opacity:.9}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .grid-1{display:grid;gap:14px}
    .fieldset{border-top:1px solid #e8ddd1;margin-top:16px;padding-top:16px}
    .submit-row{text-align:center;margin-top:16px}

    /* Minimal dropdown styles in case your global CSS doesn't include them */
    .quote-dropdown{position:relative;display:inline-block}
    .quote-button, .btn.btn-solid{cursor:pointer}
    .quote-menu{
      position:absolute; right:0; top:calc(100% + 6px);
      background:#fff; border:1px solid #e8ddd1; border-radius:10px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
      padding:8px; min-width:220px; display:none; z-index:50;
    }
    .quote-menu a{display:block; padding:10px 12px; border-radius:8px; color:#2a2624; text-decoration:none}
    .quote-menu a:hover{background:#f3ece6}
    .quote-dropdown.open .quote-menu{display:block}
    .brand a.brand-link{display:flex;align-items:center;gap:.5rem;color:inherit;text-decoration:none}
  </style>
</head>
<body>
  <!-- Header with working dropdown -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <a href="index.html" class="brand-link">
          <span class="vase-logo" aria-hidden="true"></span>
          <span class="brand-name">The Finishing Touch</span>
        </a>
      </div>
      <nav class="main-nav">
        <a href="index.html#services">Services</a>
        <a href="index.html#about">About</a>
        <a href="index.html#contact">Contact</a>

        <!-- Quote Dropdown (works on this page) -->
        <div class="quote-dropdown" id="quoteDropdown">
          <button class="btn btn-solid" id="quoteBtn" aria-expanded="false" aria-controls="quoteMenu">
            Get Your Quote ▾
          </button>
          <div class="quote-menu" id="quoteMenu" role="menu" aria-hidden="true">
            <a role="menuitem" href="intake-cleaning.html">Cleaning</a>
            <a role="menuitem" href="intake-organizing.html">Organizing</a>
            <a role="menuitem" href="intake-decor.html">Interior Decorating</a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="intake-wrap">
    <h1 class="intake-title">The Finishing Touch</h1>
    <div class="intake-script">Cleaning Intake Form</div>
    <p class="intake-note">Complete this brief form for an instant ballpark estimate.</p>

    <form id="intakeFormCleaning" class="grid-1">
      <div class="grid-2">
        <label>Full Name<input name="name" required></label>
        <label>Email<input name="email" type="email" required></label>
        <label>Service Address<input name="address"></label>
        <label>Phone<input name="phone"></label>
      </div>

      <div class="fieldset grid-2">
        <label>Service Type
          <select name="service">
            <option>Initial Clean</option>
            <option>Standard Clean</option>
            <option>Deep Clean</option>
            <option>Move-In / Move-Out Clean</option>
            <option>Airbnb Turnover</option>
          </select>
        </label>
        <label>Frequency
          <select name="frequency">
            <option>one-time</option><option>weekly</option>
            <option>biweekly</option><option>monthly</option>
          </select>
        </label>
        <label>Last Pro Clean<input name="last_cleaned" placeholder="e.g., 3 months ago"></label>
        <label>Availability<input name="availability" placeholder="e.g., Tue/Thu mornings"></label>
      </div>

      <div class="fieldset grid-2">
        <label>Bedrooms<input name="beds" type="number" min="0" value="3"></label>
        <label>Bathrooms<input name="baths" type="number" min="0" value="2"></label>
        <label>Other Rooms<input name="other_rooms" type="number" min="0" value="0"></label>
        <label>Square Footage
          <select name="sqft">
            <option>&lt;1000</option><option>1000–2000</option>
            <option>2000–3000</option><option>3000–4000</option><option>4000+</option>
          </select>
        </label>
        <label>Stories
          <select name="stories"><option>1</option><option>2</option></select>
        </label>
        <label>Pets (type & number)<input name="pets" /></label>
        <label>Areas of Focus<input name="notes" /></label>
      </div>

      <div class="fieldset grid-2">
        <label>Add-ons<input name="addons" placeholder="oven, fridge, windows, baseboards, laundry"></label>
        <label>Payment Method
          <select name="pay"><option>Zelle</option><option>Venmo</option><option>Cash</option><option>Cash App</option></select>
        </label>
      </div>
      <!-- CONSENTS -->
<fieldset class="fieldset grid-1" aria-labelledby="consentLegend">
  <legend id="consentLegend" style="font-weight:700;">Consents</legend>

  <label style="display:flex;gap:.6rem;align-items:flex-start;">
    <input type="checkbox" name="consent_work_photos" required>
    <span>I allow The Finishing Touch to take before/after photos for job verification and quality control. These will not be used for marketing unless I also consent below.</span>
  </label>

  <label style="display:flex;gap:.6rem;align-items:flex-start;">
    <input type="checkbox" name="consent_marketing_photos">
    <span>I give permission to use select photos of my space for marketing (website/social). Street address and personal items will not be shown. I can revoke this in writing.</span>
  </label>

  <label style="display:flex;gap:.6rem;align-items:flex-start;">
    <input type="checkbox" name="consent_terms" required>
    <span>I agree to the service terms (scheduling, access, cancellation, and safety). <a href="terms.html" target="_blank" rel="noopener">Read terms</a>.</span>
  </label>

  <label style="display:flex;gap:.6rem;align-items:flex-start;">
    <input type="checkbox" name="consent_updates">
    <span>Okay to contact me by email/SMS with scheduling and project updates.</span>
  </label>
</fieldset>


      <div class="submit-row">
        <button class="btn btn-solid" type="submit">Get Instant Estimate</button>
        <p id="estimateCleaning" class="hero-sub" style="color:#524a46;margin-top:10px;"></p>
        <p id="emailStatusCleaning" style="opacity:.9"></p>
      </div>
    </form>
  </main>

  <!-- EmailJS (optional) -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>/* emailjs.init('YOUR_EMAILJS_PUBLIC_KEY'); */</script>

  <!-- Tiny dropdown behavior (self-contained so it works here without edits elsewhere) -->
  <script>
    (function(){
      const dd  = document.getElementById('quoteDropdown');
      const btn = document.getElementById('quoteBtn');
      const menu= document.getElementById('quoteMenu');
      if (!dd || !btn || !menu) return;
      function toggle(open){
        dd.classList.toggle('open', open);
        btn.setAttribute('aria-expanded', String(open));
        menu.setAttribute('aria-hidden', String(!open));
      }
      btn.addEventListener('click', (e)=>{ e.preventDefault(); toggle(!dd.classList.contains('open')); });
      document.addEventListener('click', (e)=>{ if (!dd.contains(e.target)) toggle(false); });
      document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') toggle(false); });
    })();
  </script>

  <!-- Your site JS (pricing + Square routing) -->
  <script src="script.js?v=5" defer></script>

  <!-- OVERRIDE: after intake, unlock embedded calendar and route to index#book (not Square) -->
  <script>
    (function(){
      const INTAKE_FLAG = 'ftt_intake_ok';

      document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('intakeFormCleaning');
        if (!form) return;

        // Capture-phase listener cancels the script.js redirect-to-Square
        form.addEventListener('submit', function(e){
          e.preventDefault();
          e.stopImmediatePropagation();

          // Show the estimate once (uses your calcCleaning from script.js if present)
          try {
            const data = Object.fromEntries(new FormData(form).entries());
            if (typeof calcCleaning === 'function') {
              const price = calcCleaning(data);
              const estEl = document.getElementById('estimateCleaning');
              if (estEl) estEl.innerHTML = `Ballpark Estimate: <strong>$${price}</strong>`;
            }
          } catch(_) {}

          // Unlock booking on Home and send them to the embedded calendar
          try { localStorage.setItem(INTAKE_FLAG,'1'); } catch(_) {}
          window.location.href = 'index.html#book';
        }, true); // <-- capture = true so we override the other handler
      });
    })();
  </script>
</body>
</html>




